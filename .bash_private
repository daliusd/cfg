export PATH=~/.local/bin:~/.npm-global/bin:~/Library/Python/3.7/bin:$PATH
export NODE_PATH=~/.npm-global/lib/node_modules/
# export PYTHONPATH=/home/dalius/.local/lib/python3.6/site-packages

export HISTCONTROL=ignoreboth:erasedups

if [[ "$OSTYPE" == "darwin"* ]]; then
    [[ -r "$(brew --prefix)/etc/profile.d/bash_completion.sh" ]] && . "$(brew --prefix)/etc/profile.d/bash_completion.sh"
else
    _completion_loader git
fi

complete -o bashdefault -o default -o nospace -F __git_wrap__git_main cfg

PS1='\e[34m$(__git_ps1)\e[0m '$PS1

show_node_version() {
    node -v
}
PS1='\e[1m[N:$(show_node_version)]\e[0m'$PS1

ulimit -n 4096 # Recommendation from https://github.com/carlitux/deoplete-ternjs

# FZF should use fd command

export FZF_DEFAULT_COMMAND='fd --type f --ignore-file ~/.gitignore_global'
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
export FZF_DEFAULT_OPTS='--bind ctrl-d:page-down,ctrl-u:page-up'

# nvim
export EDITOR=nvim

# gpg
GPG_TTY=`tty`
export GPG_TTY

eval "$(fnm env --multi)"

function nvmrc_check() {
  if [[ -f .nvmrc ]]
  then
    fnm use
  fi
}

function cd() {
  builtin cd "$@"
  nvmrc_check
}

nvmrc_check

# Mac OS X stuff

if [[ "$OSTYPE" == "darwin"* ]]; then
    # UTF-8 support in iTerm2
    export LANG="en_US.UTF-8"
fi
